(this["webpackJsonpnotes-front"]=this["webpackJsonpnotes-front"]||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),l=(a(29),a(15)),s=a(1),i=a(2),u=a(4),p=a(3),h=(a(30),a(6)),d=a(11);var m=function(){return r.a.createElement("div",{className:"about-container"},r.a.createElement("h2",null,"About"),r.a.createElement("h3",null,"Created By: Jonathan Schack"),r.a.createElement("h3",null,"Languages"),r.a.createElement("h4",null,"HTML"),r.a.createElement("h4",null,"CSS"),r.a.createElement("h4",null,"React"),r.a.createElement("h4",null,"Ruby on Rails"))},j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){e.props.logOutUser()},e.handleProjectReset=function(){e.props.resetCurrentProject()},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"header"},r.a.createElement("div",{className:"header-container"},r.a.createElement("h1",null,"Noted"),this.props.login?r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.b,{to:"/",className:"cool-link",onClick:this.handleProjectReset,style:{color:"rgb(216, 216, 216)"}},"Home")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/about",className:"cool-link",onClick:this.handleProjectReset,style:{color:"rgb(216, 216, 216)"}},"About")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/login",className:"cool-link",style:{color:"rgb(216, 216, 216)"},onClick:this.handleClick},"Log Out"))):null))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement("div",{className:"teams-wrapper"},r.a.createElement("h2",null,"Teams")),r.a.createElement("div",{className:"friends-wrapper"},r.a.createElement("h2",null,"Friends")))}}]),a}(n.Component),g=a(13),E=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.handleChange=function(t){var a=t.target,n=(a.name,a.value);e.setState({name:n})},e.handleSubmit=function(t){t.preventDefault(),e.props.closeProjectForm(),e.props.createNewProject(e.state.name)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,className:"create-project__form",style:C},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:this.handleChange,style:b}),r.a.createElement("input",{type:"submit",text:"Save Project!",style:v}))}}]),a}(n.Component),b={height:"2rem"},v={width:"4rem"},C={width:"inherit",height:"inherit",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={projectCreationMode:!1},e.renderProjectForm=function(){e.setState({projectCreationMode:!0})},e.closeProjectForm=function(){e.setState({projectCreationMode:!1})},e.handleClick=function(t,a){e.props.loadCurrentProject(a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.projects.map((function(t){return r.a.createElement(h.b,{to:"/projects/".concat(t.id)},r.a.createElement("div",{onClick:function(a){return e.handleClick(a,t.id)},className:"project"},r.a.createElement("h3",null,t.name)))}));return r.a.createElement("div",{className:"single-project-container"},t,this.state.projectCreationMode?r.a.createElement("div",{className:"project create-project"},r.a.createElement(E,{closeProjectForm:this.closeProjectForm,createNewProject:this.props.createNewProject})):r.a.createElement("div",{onClick:this.renderProjectForm,className:"project create-project"},r.a.createElement("h3",null,"Create Project")))}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={projectList:e.props.projectList},e.createNewProject=function(t){var a=e.props.currentUser.user_id;fetch("https://chello-api.herokuapp.com/projects",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token},body:JSON.stringify({user_id:a,name:t})}).then((function(e){return e.json()})).then((function(t){var a=t.data,n=a.id,r=a.attributes,c=Object(l.a)({id:n},r);e.setState({projectList:[c].concat(Object(g.a)(e.state.projectList))})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"project-container"},r.a.createElement("div",null,r.a.createElement("h2",null,"All Projects")),r.a.createElement(k,{currentProject:this.props.currentProject,projects:this.state.projectList,loadCurrentProject:this.props.loadCurrentProject,renderProjectForm:this.renderProjectForm,createNewProject:this.createNewProject}))}}]),a}(n.Component),O=a(10),S=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.props.logInUser(n,r)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-component"},r.a.createElement("div",{id:"login-header"},r.a.createElement("h2",null,"Login")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange,value:this.state.username})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:this.state.password})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})),r.a.createElement("p",null,r.a.createElement(h.b,{to:"/signup"},"Create an Account")))}}]),a}(n.Component),P=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",username:"",email:"",password:""},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.username,c=a.email,o=a.password;e.props.registerUser(n,r,c,o)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-component"},r.a.createElement("div",{id:"login-header"},r.a.createElement("h2",null,"Signup")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:this.handleChange,value:this.state.name})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:this.handleChange,value:this.state.email})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange,value:this.state.username})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:this.state.password})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})),r.a.createElement("p",null,r.a.createElement(h.b,{to:"/login"},"Back to Login")))}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hover:!1},e.handleMouseOver=function(){e.setState({hover:!0})},e.handleMouseOut=function(){e.setState({hover:!1})},e.handleClick=function(){console.log(e.props),fetch("https://chello-api.herokuapp.com/tasks/".concat(e.props.taskId),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}),e.props.deleteCard(e.props.taskId)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card-component"},r.a.createElement("div",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,className:"to-do-card"},r.a.createElement("h2",null,this.props.task),this.state.hover?r.a.createElement("h3",{onClick:this.handleClick},"x"):null))}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={taskCards:e.props.listCards.tasks,clicked:!1,inputValue:""},e.handleClick=function(){e.setState({clicked:!e.state.clicked})},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.deleteCard=function(t){var a=e.state.taskCards.filter((function(e){return e.id!=t}));e.setState({taskCards:a})},e.handleSubmit=function(t){t.preventDefault(),fetch("https://chello-api.herokuapp.com/tasks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token},body:JSON.stringify({list_id:e.props.listCards.id,content:e.state.inputValue})}).then((function(e){return e.json()})).then((function(t){var a=t.data.id,n=t.data.attributes,r={id:a,content:n.content,list_id:n.list_id};e.setState({taskCards:[].concat(Object(g.a)(e.state.taskCards),[r]),clicked:!1,inputValue:""})}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"list-card-container"},r.a.createElement("h2",null,this.props.listCards.name),this.state.taskCards.map((function(t){return r.a.createElement(w,{key:t.id,task:t.content,taskId:t.id,deleteCard:e.deleteCard})})),this.state.clicked?r.a.createElement("form",{onSubmit:this.handleSubmit,className:"list-card-form"},r.a.createElement("textarea",{onChange:this.handleChange,value:this.state.inputValue,type:"text",placeholder:"Enter a title for this card... "}),r.a.createElement("div",{className:"list-card-form-wrapper"},r.a.createElement("input",{type:"submit"}),r.a.createElement("h2",{onClick:this.handleClick},"x"))):r.a.createElement("div",{className:"add-card-button"},r.a.createElement("button",{onClick:this.handleClick,className:"add-card-btn"},"Add a card"))))}}]),a}(n.Component),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cards:[]},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.listCards.map((function(t){var a;return r.a.createElement(N,(a={listCards:e.props.listCards},Object(O.a)(a,"listCards",t),Object(O.a)(a,"loadCurrentProject",e.props.loadCurrentProject),a))}));return r.a.createElement(r.a.Fragment,null,t)}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={listCards:e.props.currentProject.lists,inputValue:"",clicked:!1},e.handleClick=function(){e.setState({clicked:!e.state.clicked})},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=document.URL.split("projects/")[1];console.log(e.props),fetch("https://chello-api.herokuapp.com/lists",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token},body:JSON.stringify({project_id:a,name:e.state.inputValue})}).then((function(e){return e.json()})).then((function(t){var a=t.data.id,n=t.data.attributes,r=n.name,c=(n.project_id,{id:a,name:r,tasks:n.tasks});e.setState({listCards:[].concat(Object(g.a)(e.state.listCards),[c]),clicked:!1,inputValue:""})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"list-container"},r.a.createElement(U,{listCards:this.state.listCards,loadCurrentProject:this.props.loadCurrentProject}),this.state.clicked?r.a.createElement("form",{onSubmit:this.handleSubmit,className:"list-container-form"},r.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.inputValue,placeholder:"Enter a List title..."}),r.a.createElement("div",{className:"list-container-form-submit-wrapper"},r.a.createElement("input",{type:"submit"}),r.a.createElement("h2",{onClick:this.handleClick},"x"))):r.a.createElement("div",{onClick:this.handleClick,className:"list-card-container list-container-add-list-btn"},r.a.createElement("h3",null,"Add a List")))}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={login:!1,currentUser:{},projectList:[],currentProject:{},currentProjectLoaded:!1,projectsLoaded:!1},e.checkForToken=function(){localStorage.token?e.getUserFromToken():console.log("You're not logged in, buddy!!")},e.checkForProjectId=function(){localStorage.projectId&&document.URL.includes("/projects")&&e.loadCurrentProject(localStorage.projectId)},e.logInUserByToken=function(){fetch("https://chello-api.herokuapp.com/persist",{methodL:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.token,Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({login:!0,currentUser:t},(function(){e.fetchprojectList()}))}))},e.logOutUser=function(){localStorage.clear(),e.setState({login:!1,currentUser:{}})},e.getUserFromToken=function(){fetch("https://chello-api.herokuapp.com/persist",{method:"GET",headers:{Authorization:localStorage.token,"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({login:!0,currentUser:t},(function(){console.log(e.state.currentUser),e.state.login&&e.logInUserByToken()}))}))},e.logInUser=function(t,a){fetch("https://chello-api.herokuapp.com/tokens",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:t,password:a})}).then((function(e){return e.json()})).then((function(t){if(t.errors)return alert(t.errors.reduce((function(e,t){return e+"".concat(t,". \n")}),""));e.setState({login:!0,currentUser:t},(function(){localStorage.setItem("token",t.token),e.fetchprojectList()}))}))},e.fetchprojectList=function(){fetch("https://chello-api.herokuapp.com/users/".concat(e.state.currentUser.user_id),{headers:{Authorization:localStorage.token}}).then((function(e){return e.json()})).then((function(t){e.setState({projectList:t.data.attributes.projects,projectsLoaded:!0})}))},e.loadCurrentProject=function(t){fetch("https://chello-api.herokuapp.com/projects/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then((function(e){return e.json()})).then((function(t){var a=t.data.attributes;e.setState({currentProject:Object(l.a)({},a),currentProjectLoaded:!0})})).then(localStorage.setItem("projectId",t))},e.resetCurrentProject=function(){e.setState({currentProject:{},currentProjectLoaded:!1})},e.registerUser=function(t,a,n,r){fetch("https://chello-api.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,username:a,email:n,password:r})}).then((function(e){return e.json()})).then((function(t){if(t.errors)return alert(t.error.reduce((function(e,t){return e+"".concat(t,". \n")}),""));e.setState({login:!0,currentUser:t},(function(){localStorage.setItem("token",t.token),e.fetchprojectList()}))}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.checkForToken(),this.checkForProjectId()}},{key:"render",value:function(){var e=this;return this.state.login?r.a.createElement(h.a,null,r.a.createElement(j,{login:this.state.login,currentUser:this.state.currentUser,resetCurrentProject:this.resetCurrentProject,logOutUser:this.logOutUser}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/about",component:m}),r.a.createElement(d.a,{exact:!0,path:"/projects/:id",render:function(t){var a=document.URL.split("/"),n=a[a.length-1];return e.state.currentProjectLoaded?r.a.createElement(A,Object.assign({},t,{currentProject:e.state.currentProject,loadCurrentProject:e.loadCurrentProject,currentProjectId:n})):r.a.createElement("h1",null,"Please wait while we load your project...")}}),r.a.createElement(d.a,{path:"/",render:function(t){return r.a.createElement("div",{className:"home-container"},r.a.createElement(f,null),e.state.projectsLoaded?r.a.createElement(y,Object.assign({},t,{currentUser:e.state.currentUser,userLoggedIn:e.state.login,loadCurrentProject:e.loadCurrentProject,projectList:e.state.projectList})):r.a.createElement("div",null,r.a.createElement("h2",null,"Please wait while we get your projects together...")))}}))):r.a.createElement(h.a,null,r.a.createElement(j,{login:this.state.login}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(S,Object.assign({},t,{logInUser:e.logInUser}))}}),r.a.createElement(d.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(P,Object.assign({},t,{registerUser:e.registerUser}))}}),r.a.createElement(d.a,{path:"/*",render:function(t){return r.a.createElement(S,Object.assign({},t,{logInUser:e.logInUser}))}})))}}]),a}(n.Component);o.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.54a7cf7f.chunk.js.map